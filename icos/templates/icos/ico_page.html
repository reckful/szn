{% extends "base.html" %}
{% load staticfiles %}
{% load humanize %}

{% load wagtailcore_tags wagtailimages_tags %}


{% block body_class %}template-icopage{% endblock %}

{% block content %}
    <main class="wrapper flex">
        <aside class="flex flex_direction ico_side_info">
            <div class="flex flex_align-items">
                {% image page.image fill-107x107-c50 as image %}
                <img src="{{ image.url }}"/>
            </div>
            <a class="flex flex_align-items" href="{{ page.website }}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41.999 41.999"><path d="M36.068 20.176l-29-20A1 1 0 1 0 5.5.999v40a1 1 0 0 0 1.568.823l29-20a.999.999 0 0 0 0-1.646z"/></svg>Visit website</a>
        </aside>
        <article class="ico_main_info">
            <div class="flex ico_info_header flex_justify-content">
                <h1>{{ page.title }}</h1>
                <a class="flex flex_align-items" href="{{ page.whitepaper }}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M423.079 0H149.785c-18.102 0-32.827 14.726-32.827 32.828v28.039H79.52c-12.918 0-23.427 10.51-23.427 23.427v404.28c0 12.918 10.51 23.426 23.427 23.426h292.085c12.918 0 23.427-10.509 23.427-23.426v-37.441h28.046c18.102 0 32.829-14.727 32.829-32.829V32.828C455.907 14.726 441.18 0 423.079 0zM371.39 488.358H79.735V84.507h188.234v76.666c0 14.753 12.002 26.755 26.755 26.755h76.666v300.43zm-79.777-387.132l63.061 63.061h-59.949a3.115 3.115 0 0 1-3.112-3.112v-59.949zM423.079 427.49h-28.046V176.109c0-.096-.015-.182-.022-.273a11.806 11.806 0 0 0-3.44-8.086L288.149 64.329c-.005-.005-.011-.008-.015-.013a11.781 11.781 0 0 0-8.343-3.448H140.599v-28.04c0-5.064 4.12-9.185 9.185-9.185h273.293c5.065 0 9.186 4.12 9.186 9.185v385.476h.001c.001 5.065-4.119 9.186-9.185 9.186z"/></svg>Whitepaper</a>
            </div>
            <div>
                <div class="ico_dates flex flex_align-items">
                    <div>
                        <p>Start</p>
                        <p>{{ page.date_start }}</p>
                        <p>{{ page.date_start|naturaltime }}</p>
                    </div>
                    <div>
                        <p>End</p>
                        <p>{{ page.date_end }}</p>
                        <p>{{ page.date_end|naturaltime }}</p>
                    </div>
                </div>
                <p>{{ page.about|richtext }}</p>
                <p class="ico_links_header">Links</p>
                <ul class="flex flex_align-items">
                    {% if page.twitter %}
                        <a href="{{ page.twitter }}"><li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 455"><path d="M0 0v455h455V0H0zm352.751 163.259c.123 2.773.186 5.561.186 8.36 0 85.403-65.002 183.876-183.873 183.876-36.496 0-70.466-10.697-99.065-29.037 5.056.601 10.199.907 15.417.907 30.278 0 58.143-10.331 80.262-27.668-28.28-.519-52.148-19.204-60.373-44.88a64.403 64.403 0 0 0 12.161 1.163c5.894 0 11.604-.794 17.027-2.268-29.563-5.939-51.841-32.057-51.841-63.368 0-.273 0-.544.006-.814a64.366 64.366 0 0 0 29.271 8.084c-17.342-11.589-28.748-31.371-28.748-53.79 0-11.845 3.187-22.945 8.751-32.492 31.873 39.101 79.493 64.828 133.203 67.526a64.831 64.831 0 0 1-1.677-14.729c0-35.688 28.938-64.623 64.626-64.623 18.589 0 35.385 7.847 47.173 20.406a129.352 129.352 0 0 0 41.038-15.681c-4.824 15.092-15.071 27.754-28.415 35.754 13.074-1.563 25.528-5.038 37.118-10.178-8.662 12.959-19.618 24.342-32.247 33.452z" fill-rule="evenodd" clip-rule="evenodd"/></svg></li></a>
                    {% endif %}
                    {% if page.telegram %}
                        <a href="{{ page.telegram }}"><li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 455"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M0 0v455h455V0H0zm384.814 100.68l-53.458 257.136c-1.259 6.071-8.378 8.822-13.401 5.172l-72.975-52.981a12.065 12.065 0 0 0-14.712.412l-40.46 32.981c-4.695 3.84-11.771 1.7-13.569-4.083l-28.094-90.351-72.583-27.089c-7.373-2.762-7.436-13.171-.084-16.003L373.36 90.959c6.315-2.442 12.83 3.09 11.454 9.721z"/><path d="M313.567 147.179l-141.854 87.367c-5.437 3.355-7.996 9.921-6.242 16.068l15.337 53.891c1.091 3.818 6.631 3.428 7.162-.517l3.986-29.553a24.27 24.27 0 0 1 7.522-14.522l117.069-108.822c2.192-2.03-.432-5.477-2.98-3.912z"/></g></svg></li></a>
                    {% endif %}
                    {% if page.linkedin %}
                        <a href="{{ page.linkedin }}"><li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 455"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M246.4 204.35v-.665c-.136.223-.324.446-.442.665h.442z"/><path d="M0 0v455h455V0H0zm141.522 378.002H74.016V174.906h67.506v203.096zm-33.753-230.816h-.446C84.678 147.186 70 131.585 70 112.085c0-19.928 15.107-35.087 38.211-35.087 23.109 0 37.31 15.159 37.752 35.087 0 19.5-14.643 35.101-38.194 35.101zM385 378.002h-67.524V269.345c0-27.291-9.756-45.92-34.195-45.92-18.664 0-29.755 12.543-34.641 24.693-1.776 4.34-2.24 10.373-2.24 16.459v113.426h-67.537s.905-184.043 0-203.096H246.4v28.779c8.973-13.807 24.986-33.547 60.856-33.547 44.437 0 77.744 29.02 77.744 91.398v116.465z"/></g></svg></li></a>
                    {% endif %}
                    {% if page.instagram %}
                        <a href="{{ page.instagram }}"><li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 364 364"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M244.424 83.438H119.577c-19.925 0-36.139 16.213-36.139 36.139v124.846c0 19.929 16.214 36.143 36.139 36.143h124.847c19.928 0 36.142-16.214 36.142-36.143V119.577c0-19.925-16.214-36.139-36.142-36.139zm-62.426 163.456c-35.779 0-64.892-29.113-64.892-64.896 0-35.779 29.113-64.892 64.892-64.892 35.783 0 64.896 29.113 64.896 64.892 0 35.783-29.113 64.896-64.896 64.896zm66.984-116.369c-8.471 0-15.359-6.888-15.359-15.354 0-8.467 6.888-15.355 15.359-15.355 8.466 0 15.354 6.888 15.354 15.355s-6.888 15.354-15.354 15.354z"/><path d="M181.998 144.531c-20.655 0-37.475 16.812-37.475 37.467 0 20.663 16.82 37.479 37.475 37.479 20.663 0 37.471-16.816 37.471-37.479 0-20.655-16.808-37.467-37.471-37.467z"/><path d="M0 0v364h364V0H0zm307.984 244.423c0 35.053-28.508 63.561-63.56 63.561H119.577c-35.049 0-63.561-28.508-63.561-63.561V119.577c0-35.049 28.512-63.561 63.561-63.561h124.847c35.052 0 63.56 28.512 63.56 63.561v124.846z"/></g></svg></li></a>
                    {% endif %}
                    {% if page.facebook %}
                        <a href="{{ page.facebook }}"><li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 455"><path d="M0 0v455h455V0H0zm301.004 125.217H265.44c-7.044 0-14.153 7.28-14.153 12.696v36.264h49.647c-1.999 27.807-6.103 53.235-6.103 53.235h-43.798V385h-65.266V227.395h-31.771v-53.029h31.771V131.01c0-7.928-1.606-61.009 66.872-61.009h48.366v55.216z" fill-rule="evenodd" clip-rule="evenodd"/></svg></li></a>
                    {% endif %}
                    {% if page.reddit %}
                        <a href="{{ page.reddit }}"><li><svg xmlns="http://www.w3.org/2000/svg" width="31.299" height="31.299"><circle cx="11.51" cy="17.408" r="1.875"/><path d="M.001 0v31.299h31.297V0H.001zm27.675 19.426c-.438 4.371-5.627 7.834-11.952 7.834-6.284 0-11.446-3.419-11.943-7.749a4.204 4.204 0 0 1-2.037-3.618c0-2.316 1.823-4.199 4.063-4.199.814 0 1.569.25 2.206.675-.038.026-.071.056-.109.083 1.893-1.15 4.299-1.886 6.939-2.021l2.117-6.072 4.533 1.084a3.152 3.152 0 0 1 2.686-1.513c1.748 0 3.17 1.421 3.17 3.169s-1.422 3.169-3.17 3.169a3.173 3.173 0 0 1-3.167-3.169c0-.107.021-.208.03-.313l-3.171-.759-1.529 4.394c2.653.095 5.087.79 7.015 1.911a3.939 3.939 0 0 1 2.138-.637c2.239 0 4.063 1.883 4.063 4.199a4.226 4.226 0 0 1-1.882 3.532z"/><circle cx="19.567" cy="17.409" r="1.874"/><path d="M19.269 21.576c-3.972 2.619-7.174.149-7.318.039a.702.702 0 0 0-.988.105.708.708 0 0 0 .105.992c.026.021 1.856 1.462 4.513 1.462 1.32 0 2.852-.356 4.464-1.422a.706.706 0 1 0-.776-1.176z"/></svg></li></a>
                    {% endif %}
                </ul>
            </div>
        </article>
        <nav class="related_news">
            <p class="recent_news_header">Recent articles</p>
            <div class="recent_news flex flex_align-content flex_direction flex_wrap">
                {% for post in newspages|slice:":4" %}
                    {% with post=post.specific %}
                        <article>
                            <a href="{% pageurl post %}">
                                {% image post.image fill-270x152-c50 as image %}
                                <img src="{{ image.url }}"/>
                                <h3>{{ post.title|truncatechars:75 }}</h3>
                                <div class="flex flex_align-text">
                                    <p>{{ post.first_published_at|naturaltime }}</p>
                                    <p>{{ post.author|richtext }}</p>
                                </div>
                            </a>
                        </article>
                    {% endwith %}
                {% endfor %}
            </div>
        </nav>
    </main>
{% endblock %}